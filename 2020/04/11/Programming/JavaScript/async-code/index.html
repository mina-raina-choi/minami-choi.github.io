<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"> 
<meta name="generator" content="Hexo 3.9.0">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await - Mina&#39;s World</title>
<link rel="canonical" href="https://minami-choi.github.io/2020/04/11/programming/javascript/async-code/">  <meta name="description" content="자바스크립트에서 비동기 코드를 어떻게 처리하는지 아주 잘 설명한 글이 있어 https://tylermcginnis.com/async-javascript-from-callbacks-to-promises-to-async-await/ 의 내용을 번역해보았다.">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async&#x2F;await">
<meta property="og:url" content="https://minami-choi.github.io/2020/04/11/Programming/JavaScript/async-code/index.html">
<meta property="og:site_name" content="Mina&#39;s World">
<meta property="og:description" content="자바스크립트에서 비동기 코드를 어떻게 처리하는지 아주 잘 설명한 글이 있어 https://tylermcginnis.com/async-javascript-from-callbacks-to-promises-to-async-await/ 의 내용을 번역해보았다.">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://images.unsplash.com/photo-1584984787900-9417ec4c3369?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60">
<meta property="og:updated_time" content="2020-04-11T09:11:28.636Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async&#x2F;await">
<meta name="twitter:description" content="자바스크립트에서 비동기 코드를 어떻게 처리하는지 아주 잘 설명한 글이 있어 https://tylermcginnis.com/async-javascript-from-callbacks-to-promises-to-async-await/ 의 내용을 번역해보았다.">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1584984787900-9417ec4c3369?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60">    
<link rel="icon" href="/images/favicon.svg">
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css"> <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">   
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">
    
<link rel="stylesheet" href="/css/back-to-top.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123533454-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-123533454-1');
</script>
  <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>   <link rel="stylesheet" href="/css/style.css">

</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
  <div class="container">
    <div class="navbar-brand is-flex-center">
      <a class="navbar-item navbar-logo" href="/">
        
        <img src="/images/logo2.png" alt="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await" height="28">
        
      </a>
    </div>
    <div class="navbar-menu">
      
      <div class="navbar-start">
        
        <a class="navbar-item" href="/">Home</a>
        
        <a class="navbar-item" href="/archives">Archives</a>
        
        <a class="navbar-item" href="/categories">Categories</a>
        
        <a class="navbar-item" href="/tags">Tags</a>
        
        <a class="navbar-item" href="/about">About</a>
        
      </div>
      
      <div class="navbar-end">
         
        <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/minami-choi" rel="external nofollow noopener noreferrer">
          
          <i class="fab fa-github"></i>
          
        </a>
          
        <a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;">
          <i class="fas fa-list-ul"></i>
        </a>
         
        <a class="navbar-item search" title="Search" href="javascript:;">
          <i class="fas fa-search"></i>
        </a>
        
      </div>
    </div>
  </div>
</nav>

    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="https://images.unsplash.com/photo-1584984787900-9417ec4c3369?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-11T08:40:43.000Z">2020-04-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Programming/">Programming</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    an hour read (About 7497 words)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span> visits
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await
            
        </h1>
        <div class="content">
            <p>자바스크립트에서 비동기 코드를 어떻게 처리하는지 아주 잘 설명한 글이 있어 <a href="https://tylermcginnis.com/async-javascript-from-callbacks-to-promises-to-async-await/" rel="external nofollow noopener noreferrer" target="_blank">https://tylermcginnis.com/async-javascript-from-callbacks-to-promises-to-async-await/</a> 의 내용을 번역해보았다.</p>
<a id="more"></a>

<hr>
<p>내가 가장 좋아하는 사이트 중 하나는 <a href="http://www.berkshirehathaway.com/" rel="external nofollow noopener noreferrer" target="_blank">BerkshireHathaway.com</a> 이다 - 간단하고 효과적이고 1997년에 런칭된 이후 제 역할을 잘 해오고 있다. 더 주목할 점은 지난 20년이 넘는 시간 동안 단 하나의 버그도 없었다. <strong><em>WHY??</em></strong> 왜냐하면 모든 것이 정적이기 때문이다. 20년 전 런칭했을 때와 완전히 똑같다. 만약 모든 데이터를 미리 다 가지고 있다면 사이트를 구축하는 것은 매우 간단할 것이다. 그러나 불행하게도 요즈음 대부분의 사이트들은 그렇지 못하다. 이 부분을 보완하기 위해 <strong>우리는 외부에서 앱으로 데이터를 가져오는 것을 처리하기 위한 패턴을 개발</strong>했다. 대부분의 경우와 같이, 이런 패턴도 시간이 지남에 따라 변경된 절충점(tradeoffs)이 있다. 이 포스트에서 3가지 대표적인 패턴인 <code>Callbacks</code> , <code>Promises</code>, <code>Async/Await</code> 의 장단점에 대해서 자세히 알아보고 역사적인 맥락에서 그 중요성과 진행상황에 대해서 얘기해 보자.</p>
<p>먼저 콜백에 대해서 알아보자</p>
<h3 id="Callbacks"><a href="#Callbacks" class="headerlink" title="Callbacks"></a>Callbacks</h3><p>처음 프로그래밍을 배울 때, functions에 대해 machines이라고 생각하는게 도움이 됐다. 이러한 machines은 너가 원하는 것은 뭐든 할 수 있다. machines은 인풋을 받아 값을 반환할 수 있다. machines을 실행하고 싶을 때 클릭할 수 있는 버튼이 있다. 이게 바로 <strong>()</strong> 이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>) <span class="hljs-comment">// 8</span></span><br></pre></td></tr></table></figure>

<p>내가 버튼을 누르든, 너가 버튼을 누르든, 혹은 어떤 누가 버튼을 클릭하는 지는 중요하지 않다. 버튼이 클릭될 때마다 좋든, 싫든, 머신은 실행될 것이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> me = add</span><br><span class="line"><span class="hljs-keyword">const</span> you = add</span><br><span class="line"><span class="hljs-keyword">const</span> someoneElse = add</span><br><span class="line"></span><br><span class="line">me(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">// 5 - Press the button, run the machine.</span></span><br><span class="line">you(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">// 5 - Press the button, run the machine.</span></span><br><span class="line">someoneElse(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">// 5 - Press the button, run the machine.</span></span><br></pre></td></tr></table></figure>

<p>위의 코드에서 우리는 <code>add</code> 함수를 3개의 다른 변수에 할당했다.<code>me</code>, <code>you</code>, <code>someoneElse</code></p>
<p>오리지널 <code>add</code>함수와 우리가 생성한 변수는 메모리에 같은 위치를 가리킨다는 걸 아는 게 중요하다. 그것들은 다른 이름을 가진, 완전히 똑같은 것이다. 그래서 우리가 <code>me</code>, <code>you</code>나 <code>someoneElse</code>를 호출할 때 <code>add</code>함수를 호출하는 것과 같다.</p>
<p>이제 만약 우리가 <code>add</code> 머신을 다른 머신에 전달하면 어떻게 될까? 기억하자, 누가 () 버튼을 클릭하는 지는 중요하지 않다는 것을!! 버튼이 클릭 되면, 그냥 실행된다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addFive</span>(<span class="hljs-params">x, addReference</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> addReference(x, <span class="hljs-number">5</span>) <span class="hljs-comment">// 15 - Press the button, run the machine.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">addFive(<span class="hljs-number">10</span>, add) <span class="hljs-comment">// 15</span></span><br></pre></td></tr></table></figure>

<p>이 부분에 대해서 약간 이상하게 느낄 수도 있겠지만, 여기서 새로운 것은 없다. <code>add</code> 에서 버튼을 클릭하는 것 대신에, 우리는 <code>add</code>를 <code>addFive</code>에 인자로 전달한 것이다. 그것을 <code>addReference</code>라고 이름을 지은 것이다. 그리고 우리는 버튼을 클릭 혹은 호출한 것이다.</p>
<p>이것은 자바스크립트 언어의 중요한 개념들을 알려 준다. 첫 번째로, 문자열이나 숫자를 함수에 인자로 전달할 수 있는 것처럼 <strong>reference(참조)를 함수에 인자로 전달</strong>할 수 있다. 이렇게 할 때, 인자로 전달하는 function을 <strong>callback function</strong>이라고 부른다. 그리고 callback function을 전달받은 function은 <strong>higher order function</strong> 이라고 부른다.</p>
<p>명칭은 중요하기 때문에, 각 함수가 나타내는 개념을 잘 설명하도록 변수 네이밍을 새롭게 했다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">higherOrderFunction</span>(<span class="hljs-params">x, callback</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> callback(x, <span class="hljs-number">5</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">higherOrderFunction(<span class="hljs-number">10</span>, add)</span><br></pre></td></tr></table></figure>

<p>이러한 패턴은 익숙하게 느껴진다. 만약 자바스크립트 배열 메소드들을 사용해 봤다면, 이미 callback 패턴을 사용해 본 것이다. 로대시를 사용해 봤다면, 이미 callback패턴을 사용한 것이다. jQuery도 마찬가지다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">;[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].map(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> i + <span class="hljs-number">5</span>)</span><br><span class="line"></span><br><span class="line">_.filter([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], (n) =&gt; n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>)</span><br><span class="line"></span><br><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Callbacks are everywhere"</span>))</span><br></pre></td></tr></table></figure>

<p>일반적으로 가장 유명한 callback의 usecase 두 가지가 있다.</p>
<p>첫 번째로는 위의 <code>.map</code> , <code>_.filter</code> 예제에서 볼 수 있는, 하나의 값을 다른 값으로 바꾸는 훌륭한 추상화이다. 우리는 <strong><em>“여기 배열과 함수가 있어. 내가 준 함수를 기반으로 새로운 값을 줘”</em></strong> 라고 말한다.</p>
<p>두 번째 usecase는, 우리가 jQuery 예제에서 볼 수 있는, 특정 시간까지 실행을 지연하는 것이다. <strong><em>“여기 함수가 있어. btn이라는 id를 가진 엘리먼트가 클릭될 때마다 그 함수를 실행시켜”</em></strong> 우리가 중점적으로 볼 것은 두 번째 usecase다. <strong>“delaying execution of a function until a particular time”</strong>.</p>
<p>이제 우리는 동기 작업에 대한 예제만 살펴볼 것이다. 이 글의 시작 부분에서 말했듯이, 우리가 만드는 대부분의 앱은 필요한 데이터를 미리 가지고 있지 않다. 대신에 앱을 통해 사용자와 상호 작용하면서 외부에서 데이터를 가져올 필요가 있다. 우리는 이러한 작업을 하는데 callback이 좋은 usecase가 될 수 있다는 걸 확인했다. <strong>callback은 특정 시간까지 함수의 호출을 지연</strong>시킬 수 있도록 해준다. 데이터를 가져오는 작업에도 동일하게 적용할 수 있다. 특정 시간까지 함수의 호출을 지연시키는 것 대신에, <strong>우리는 필요한 데이터를 얻을 때까지 함수의 실행을 미룰 수 있다.</strong> 이것에 대한 가장 유명한 예제인 jQuery의 <code>getJSON</code> 메소드다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-comment">// updateUI and showError are irrelevant.</span></span><br><span class="line"><span class="hljs-comment">// Pretend they do what they sound like.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> id = <span class="hljs-string">"tylermcginnis"</span></span><br><span class="line"></span><br><span class="line">$.getJSON(&#123;</span><br><span class="line">  url: <span class="hljs-string">`https://api.github.com/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">  success: updateUI,</span><br><span class="line">  error: showError,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>우리는 사용자 데이터를 얻기 전까지 UI를 업데이트할 수 없다. 그래서 우리는 무엇을 하나? “여기 객체가 있다. 만약 요청이 성공적이면, 사용자 데이터를 넘겨 <code>success</code> 을 콜 해라. 만약 요청이 실패되면, 오류 객체를 넘기면서 <code>error</code>를 콜 해라. 각 메소드가 무엇을 하는지 걱정할 필요없다. 필요할 때 호출하기만 하면 된다. 이것은 비동기 호출을 위해 callback을 사용하는 완벽한 데모다.</p>
<hr>
<p>여기까지 우리는 callback이 무엇이고, callback이 동기 / 비동기 코드에서 어떻게 도움이 되는 지 배웠다. 아직 얘기 안 한 부분은 callback의 단점에 대한 부분이다. 아래의 코드를 보자. 어떤 일이 일어날까?</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-comment">// updateUI, showError, and getLocationURL are irrelevant.</span></span><br><span class="line"><span class="hljs-comment">// Pretend they do what they sound like.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> id = <span class="hljs-string">"tylermcginnis"</span></span><br><span class="line"></span><br><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  $.getJSON(&#123;</span><br><span class="line">    url: <span class="hljs-string">`https://api.github.com/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">    success: <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> &#123;</span><br><span class="line">      $.getJSON(&#123;</span><br><span class="line">        url: getLocationURL(user.location.split(<span class="hljs-string">","</span>)),</span><br><span class="line">        success(weather) &#123;</span><br><span class="line">          updateUI(&#123;</span><br><span class="line">            user,</span><br><span class="line">            weather: weather.query.results,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        error: showError,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    error: showError,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>callback 레이어가 몇 개 추가되었다. 첫 번째로 id가 btn인 엘리먼트가 클릭되기 전까지 최초의 ajax 요청이 실행되지 않는다. 일단 버튼이 클릭 되면, 첫 번째 요청을 보낸다. 요청이 성공적이면 두 번째 요청을 보낸다. 두 번째 요청도 성공적이면 그 때, 두 개의 요청에서 얻은 데이터를 전달하며 <code>updateUI</code> 메소드를 호출한다. 너가 이 코드를 한 눈에 이해했는가와 상관없이, 객관적으로 이 코드는 이전 코드보다 훨씬 읽기가 어렵다. 이것이 “Callback Hell”이라는 주제를 가져온다.</p>
<p>인간으로서 우리는 자연스럽게 순차적으로 생각한다. 중첩된 콜백 안에 중첩된 콜백이 있으면 자연스럽게 생각할 수 없게 한다. 소프트웨어를 읽는 방식과 너가 자연스럽게 생각하는 방식의 연결고리가 끊어지면 버그는 발생한다. 소프트웨어의 문제들을 해결하는 대부분의 솔루션과 마찬가지로, 콜백 지옥을 보다 쉽게 사용하기 위한 접근은 코드를 모듈화하는 것이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span>(<span class="hljs-params">id, onSuccess, onFailure</span>) </span>&#123;</span><br><span class="line">  $.getJSON(&#123;</span><br><span class="line">    url: <span class="hljs-string">`https://api.github.com/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">    success: onSuccess,</span><br><span class="line">    error: onFailure,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeather</span>(<span class="hljs-params">user, onSuccess, onFailure</span>) </span>&#123;</span><br><span class="line">  $.getJSON(&#123;</span><br><span class="line">    url: getLocationURL(user.location.split(<span class="hljs-string">","</span>)),</span><br><span class="line">    success: onSuccess,</span><br><span class="line">    error: onFailure,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  getUser(</span><br><span class="line">    <span class="hljs-string">"tylermcginnis"</span>,</span><br><span class="line">    (user) =&gt; &#123;</span><br><span class="line">      getWeather(</span><br><span class="line">        user,</span><br><span class="line">        (weather) =&gt; &#123;</span><br><span class="line">          updateUI(&#123;</span><br><span class="line">            user,</span><br><span class="line">            weather: weather.query.results,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        showError</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    showError</span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>함수의 이름이 있어 어떻게 흘러가는지 이해하는 것을 도와준다. 그러나 객관적으로 더 나은 방식인가? 그렇게 낫지는 않다. 콜백 지옥의 가독성 문제에 대해 일시적인 방편을 취한 것이다. 우리가 자연스럽게 순차적으로 생각하는데에 반해 중첩된 콜백은 순차적으로 생각하는 방식을 깬다는 문제는 여전히 존재한다.</p>
<hr>
<p>콜백의 또다른 문제는 <strong>제어의 역전</strong>과 관련이 있다. 콜백을 작성할 때, 콜백을 전달하는 프로그램이 책임이 있고, 필요할 때만 호출할 거라고 가정한다. 본질적으로 프로그램에 대한 제어를 다른 프로그램에 넘기는 것이다. jQuery나 lodash 또는 바닐라 자바스크립트같은 라이브러리를 사용한다면 콜백 함수가 필요한 경우에, 정확한 인자와 함께 호출된다는 것을 가정하기 안전하다. 그러나 많은 서드파티 라이브러리의 경우 콜백 함수는 라이브러리와 상호작용하기 위한 인터페이스이다. 의도적이든 아니든, 서드파티 라이브러리와 상호 작용하는 방식이 깨지거나 바뀌는 경우는 있을 수 있다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">criticalFunction</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-comment">// 이 함수가 정확한 인자와 함께 호출되어야 하는 것은 중요하다!!</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">thirdPartyLib(criticalFunction)</span><br></pre></td></tr></table></figure>

<p><code>criticalFunction</code> 을 호출하는 것은 너가 아니기 때문에 언제, 어떤 인자와 이 함수를 호출할 것 인가에 대한 제어는 할 수 없다. 대부분의 경우 별 문제가 아니지만 문제가 될 때는 아주 큰 문제다.</p>
<hr>
<h3 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h3><p>바쁜 식당에 예약 없이 가 본 적이 있나? 그럴 경우, 테이블 자리가 났을 때 식당은 너와 연락하기 위한 방법이 필요하다. 옛날에는, 너의 이름을 받아 뒀다가 자리가 준비되면 이름을 불렀다. 그런 다음 자연스럽게 더 나은 방법들이 나왔다. 한 가지 솔루션은 이름을 받아 두는 대신에, <strong>전화번호를 받아 뒀다가 자리가 나면 문자를 하는 방식</strong>이다.</p>
<p>이 방법은 식당 주변에서 기다리지 않아도 되도록 해준다. 더 중요한 부분은 그들이 원하는 때에 타겟팅을 해서 폰으로 광고를 할 수 있게 한다. 익숙하게 들리나? 그래야 한다! 이것은 callback에 대한 은유다! 식당에 번호를 주는 것은 서드파티 서비스에 콜백 함수를 주는 것과 같다. 식당에 자리가 나면 너에게 문자를 할 거라고 예상한다. 서드파티 서비스가 필요한 때에, 정확한 인자와 함께 콜백 함수를 호출할 거라 예상하는 것과 마찬가지로. 일단 너의 전화번호 혹은 콜백 함수가 그들에게 넘어가면 너는 모든 제어권을 잃는다.</p>
<p>감사하게도 또다른 솔루션이 있다! 이것은 설계상으로 모든 제어권을 너가 가질 수 있도록 해준다. 아마 이미 경험해 봤을 것이다. - 그들이 주는 진동벨이다.</p>
<p><img src="https://tylermcginnis.com/images/posts/advanced-javascript/buzzy.png" alt="https://tylermcginnis.com/images/posts/advanced-javascript/buzzy.png"></p>
<p>이전에 사용해본 경험이 없다면, 이 아이디어는 간단하다. 이름이나 번호를 받는 대신에, 그들이 저 진동벨을 너에게 준다. 자리가 나면 진동벨이 빛을 내며 울린다. 자리가 나길 기다리며 원하는 일을 여전히 할 수 있는데 이제는 제어권을 넘겨줄 필요가 없다. 사실 완전히 반대 개념이다. <strong>그들이</strong> 무언가를 <strong>너에게</strong> 준다! 제어의 역전이 없다!</p>
<p>진동벨은 항상 3가지 중 하나의 상태를 가진다. <code>pending</code>, <code>fulfilled</code>, 또는 <code>rejected</code><br><code>pending</code> 은 기본값이다. 진동벨을 받으면 초기값으로 <code>pending</code> 상태이다.<br><code>fulfilled</code> 은 진동벨에 불이 들어오고 자리가 준비되었을 때의 상태이다.<br><code>rejected</code> 은 뭔가 잘못되었을 때의 상태값이다. 그 식당이 문을 닫으려 하거나 혹은 식당이 누군가에게 일일 대관 되었다는 사실을 까먹는 것 같이.</p>
<p>다시 한번 기억해야할 것은, 진동벨을 받는 사람은 “너”라는 것이다. 너가 모든 제어권을 가지고 있다. 진동벨의 상태가 <code>fulfilled</code> 이 되면, 준비된 테이블로 갈 수 있다. 진동벨의 상태가 <code>fulfilled</code> 이 되었는데 그 신호를 무시하고 싶으면 그렇게 해도 된다. 만약 <code>rejected</code> 되었다면, 뭐, 짜증은 나겠지만 다른 식당으로 가면 된다. 아무일이 일어나지 않고 계속 <code>pending</code> 상태라면, 식사를 할 수는 없겠지만 실제로는 아무것도 아니다.</p>
<p>이제 식당 진동벨에 대한 것을 완전히 알았으니, 그 지식을 중요한 것에 대입해보자.</p>
<p><strong>만약 너의 번호를 식당에 준다는 것은 콜백 함수를 넘겨주는 것과 같다. 작은 진동벨을 받는 것은 Promise라고 불리는 것을 받는 것과 같다.</strong></p>
<p>항상 그렇듯이 왜 그런 지부터 살펴보자! 왜 Promise가 존재할까? 비동기 요청을 좀 더 쉽게 관리하기 위해 존재한다. 완전히 진동벨과 동일하게, <code>Promise</code> 는 3가지 중 하나의 상태에 있을 수 있다 -<code>pending</code>, <code>fulfilled</code> or <code>rejected</code>. 진동벨과는 다르게, 이러한 상태가 식당의 테이블에 대한 상태를 나타내는 게 아니라 비동기 요청에 대한 상태를 나타낸다.</p>
<p>만약 비동기 요청이 여전히 진행 중이라면 <code>Promise</code> 는 <code>pending</code> 상태일 것이다. 비동기 요청이 성공적으로 완료 되었으면 <code>Promise</code> 의 상태는 <code>fulfilled</code> 상태로 바뀐다. 비동기 요청이 실패했으면 <code>Promise</code> 의 상태는 <code>rejected</code> 상태로 바뀐다. 진동벨의 비유가 꽤 잘 들어맞는다. 맞지요?</p>
<p>이제 왜 Promise가 존재하고 어떤 상태에 있을 수 있는지 이해했다. 아래에 우리가 알아야할 3가지 질문이 더 있다.</p>
<ol>
<li>어떻게 Promise를 생성하는지</li>
<li>어떻게 Promise의 상태를 바꿀 수 있는지</li>
<li>Promise의 상태가 바꼈다는 것을 어떻게 들을 수 있는지</li>
</ol>
<h5 id="1-How-do-you-create-a-Promise"><a href="#1-How-do-you-create-a-Promise" class="headerlink" title="1) How do you create a Promise?"></a>1) How do you create a Promise?</h5><p>간단하다. <code>new</code> 키워드로 <code>Promise</code>의 새로운 인스턴스를 생성하면 된다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>()</span><br></pre></td></tr></table></figure>

<h5 id="2-How-do-you-change-the-status-of-a-promise"><a href="#2-How-do-you-change-the-status-of-a-promise" class="headerlink" title="2) How do you change the status of a promise?"></a>2) How do you change the status of a promise?</h5><p><code>Promise</code> 생성자 함수는 하나의 인자를 받는다. 바로 (callback) 함수이다. 이 함수는 2개의 인자를 받는데, <code>resolve</code> 와 <code>reject</code> 이다.</p>
<p><code>resolve</code> - promise의 상태를 <code>fulfilled</code> 로 바꿀 수 있게 하는 함수</p>
<p><code>reject</code> - promise의 상태를 <code>rejected</code> 로 바꿀 수 있게 하는 함수</p>
<p>아래의 코드에서 2초를 기다리는 <code>setTimeout</code> 를 사용한다. 그리고 <code>resolve</code> 를 호출한다. 이것은 promise의 상태를 <code>fulfilled</code> 로 바꿀 것이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve() <span class="hljs-comment">// Change status to 'fulfilled'</span></span><br><span class="line">  &#125;, <span class="hljs-number">2000</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>promise 로그를 통해 promise가 생성 되자마자의 상태와 약 2초 후 <code>resolve</code>가 호출되고 나서의 상태 변화를 확인할 수 있다.</p>
<p><img src="https://tylermcginnis.com/images/posts/advanced-javascript/resolve.gif" alt="https://tylermcginnis.com/images/posts/advanced-javascript/resolve.gif"></p>
<p>promise의 상태가 <code>&lt;pending&gt;</code> 에서 <code>&lt;resolved&gt;</code>로 바뀌는 것을 알 수 있다.</p>
<h5 id="3-How-do-you-listen-for-when-the-status-of-a-promise-changes"><a href="#3-How-do-you-listen-for-when-the-status-of-a-promise-changes" class="headerlink" title="3) How do you listen for when the status of a promise changes?"></a>3) How do you listen for when the status of a promise changes?</h5><p>내 생각엔 이 질문이 가장 중요하다고 생각한다. promise를 생성하는 방법과 상태를 바꾸는 방법을 아는 것은 좋지만 상태 변경 후 작업을 수행하는 방법을 모른다면 무의미하다. 아직 우리가 얘기하지 않은 부분은 “Promise”가 실제로 어떤 것인가에 대한 부분이다. <code>new Promise</code> 을 생성할 때, 너는 그냥 일반적인 자바스크립트 객체를 생성한 것이다. 이 객체는 2개의 메소드를 호출할 수 있다. <code>then</code>과 <code>catch</code> 이다. 이게 키다! promise의 상태가 <code>fulfilled</code> 로 바뀔 때, 우리가 <code>.then</code> 으로 전달한 함수가 호출된다. 반대로 promise의 상태가 <code>rejected</code> 로 바뀌면 <code>.catch</code> 로 전달한 함수가 호출될 것이다. <strong>이것이 의미하는 바는 일단 promise를 생성하고 난 후, 비동기 요청이 성공적일 때 실행할 함수를 <code>.then</code>으로 전달하고, 실패할 경우 실행할 함수를 <code>.catch</code>로 전달할 것이다</strong>.</p>
<p>예제를 하나 살펴보자. <code>setTimeout</code> 을 사용해서 promise의 상태를 2초 후에 <code>fulfilled</code> 로 바꿀 것이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onSuccess</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Success!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onError</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"💩"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve()</span><br><span class="line">  &#125;, <span class="hljs-number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(onSuccess)</span><br><span class="line">promise.catch(onError)</span><br></pre></td></tr></table></figure>

<p>위 코드를 실행해보면 약 2초 후에 “Success!”라는 결과값을 콘솔에서 볼 수 있다. 이렇게 동작하는 이유는 2가지 때문이다. 첫 번째로 promise를 생성할 때, 약 2초 후에 promise의 상태를 <code>fulfilled</code> 로 바꾸는 <code>resolve</code> 를 호출했다. 두 번째는 promise의 <code>.then</code> 메소드에 <code>onSuccess</code> 함수를 전달했다. 이렇게 함으로써 우리는 promise에게 2초 후에 상태가 <code>fulfilled</code>로 바뀌면 <code>onSuccess</code> 를 호출하라고 알려준 것이다.</p>
<p>자, 만약 나쁜 결과가 발생했다고 가정하면, promise의 상태가 <code>rejected</code> 로 변경되고, <code>resolve</code> 대신 <code>reject</code> 가 호출될 것이라 예상한다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onSuccess</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Success!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onError</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"💩"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> &#123;</span><br><span class="line">    reject()</span><br><span class="line">  &#125;, <span class="hljs-number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(onSuccess)</span><br><span class="line">promise.catch(onError)</span><br></pre></td></tr></table></figure>

<p><code>reject</code> 를 호출했기 때문에 <code>onSuccess</code> 함수 대신에 <code>onError</code> 함수가 호출될 것이다.</p>
<hr>
<p>이제 Promise API에 대한 지식을 알았으니 실제 코드를 살펴보자. 미리 살펴본 비동기 콜백 예제를 기억해 보자.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span>(<span class="hljs-params">id, onSuccess, onFailure</span>) </span>&#123;</span><br><span class="line">  $.getJSON(&#123;</span><br><span class="line">    url: <span class="hljs-string">`https://api.github.com/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">    success: onSuccess,</span><br><span class="line">    error: onFailure,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeather</span>(<span class="hljs-params">user, onSuccess, onFailure</span>) </span>&#123;</span><br><span class="line">  $.getJSON(&#123;</span><br><span class="line">    url: getLocationURL(user.location.split(<span class="hljs-string">","</span>)),</span><br><span class="line">    success: onSuccess,</span><br><span class="line">    error: onFailure,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  getUser(</span><br><span class="line">    <span class="hljs-string">"tylermcginnis"</span>,</span><br><span class="line">    (user) =&gt; &#123;</span><br><span class="line">      getWeather(</span><br><span class="line">        user,</span><br><span class="line">        (weather) =&gt; &#123;</span><br><span class="line">          updateUI(&#123;</span><br><span class="line">            user,</span><br><span class="line">            weather: weather.query.results,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        showError</span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">    showError</span><br><span class="line">  )</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>콜백 대신에 Promise api를 사용할 수 있는 방법이 있나? ajax 요청을 promise로 감싸면 어떨까? 그리고나선 심플하게 요청의 결과에 따라 <code>resolve</code> or <code>reject</code> 을 호출하면 된다. <code>getUser</code> 를 바꿔보자.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span>(<span class="hljs-params">id</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    $.getJSON(&#123;</span><br><span class="line">      url: <span class="hljs-string">`https://api.github.com/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">      success: resolve,</span><br><span class="line">      error: reject,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>좋다! <code>getUser</code> 의 파라미터가 바뀐 것을 알 수 있다. <code>id</code>, <code>onSuccess</code>, and <code>onFailure</code> 을 받는 대신에 <code>id</code>만 전달 받는다. 두 콜백 함수가 더이상 필요하지 않다. 왜냐면 더이상 제어의 역전이 없기 때문이다. 대신, Promise의 <code>resolve</code> and <code>reject</code> 함수를 사용할 것이다. 요청이 성공적이면 <code>resolve</code> 함수를 호출하고, 에러가 있을 경우 <code>reject</code> 함수를 호출할 것이다.</p>
<p>이제 <code>getWeather</code> 를 리팩토링 해보자. 같은 전략을 사용할 것이다. <code>onSuccess</code> and <code>onFailure</code> 콜백을 받는 대신에, <code>resolve</code> and <code>reject</code> 를 사용할 것이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeather</span>(<span class="hljs-params">user</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    $.getJSON(&#123;</span><br><span class="line">      url: getLocationURL(user.location.split(<span class="hljs-string">","</span>)),</span><br><span class="line">      success: resolve,</span><br><span class="line">      error: reject,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>보기 좋다! 이제 마지막으로 업데이트해야 할 것은 click handler 다. 우리가 따라갈 흐름은 아래와 같다.</p>
<ol>
<li>github api를 통해 사용자의 데이터를 가져온다.</li>
<li>사용자의 위치를 이용해 yahoo weather api로 날씨를 가져온다.</li>
<li>사용자 정보와 날씨 ui를 업데이트한다.</li>
</ol>
<p>1번 부터 해보자.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> userPromise = getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line"></span><br><span class="line">  userPromise.then(<span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  userPromise.catch(showError)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><code>getUser</code> 함수가 2개의 콜백함수를 받는 것 대신에 <code>.then</code> 와 <code>.catch</code> 을 호출할 수 있는 promise를 반환한다. <code>.then</code> 이 호출되면 사용자의 정보와 함께 호출되고,  <code>.catch</code> 호출되면 에러와 함께 호출된다.</p>
<p>2번으로 가자</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> userPromise = getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line"></span><br><span class="line">  userPromise.then(<span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> weatherPromise = getWeather(user)</span><br><span class="line">    weatherPromise.then(<span class="hljs-function">(<span class="hljs-params">weather</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line">    weatherPromise.catch(showError)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  userPromise.catch(showError)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>1번에서 했던 같은 패턴을 따른다. 하지만 <code>userPromise</code> 에서 얻은 <code>user</code> 객체를 넘기며 <code>getWeather</code> 을 호출한다.</p>
<p>마지막으로 3번, UI를 업데이트 하자.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> userPromise = getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line"></span><br><span class="line">  userPromise.then(<span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> weatherPromise = getWeather(user)</span><br><span class="line">    weatherPromise.then(<span class="hljs-function">(<span class="hljs-params">weather</span>) =&gt;</span> &#123;</span><br><span class="line">      updateUI(&#123;</span><br><span class="line">        user,</span><br><span class="line">        weather: weather.query.results,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    weatherPromise.catch(showError)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  userPromise.catch(showError)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>새로운 코드가 훨씬 낫다. 하지만 여전히 개선할 부분이 있다. 개선을 하기 전에 우리가 알아야 할 promise의 2가지 특징이 더 있다. <code>chaning</code> 과 <code>resolve</code> 에서 <code>then</code> 으로 인자를 넘기는 방법이다.</p>
<h4 id="Promise-Chaining"><a href="#Promise-Chaining" class="headerlink" title="Promise Chaining"></a>Promise Chaining</h4><p><code>.then</code> 와 <code>.catch</code> 둘 다 새로운 promise를 반환한다. 이것은 사소하지만 중요한 부분이다. 왜냐면 이것은 promise가 체이닝될 수 있다는 것을 의미하기 때문이다.</p>
<p>아래의 예제에서 최소한 2초내에 resolve할 promise를 반환하는 <code>getPromise</code> 를 호출한다. <code>.then</code> 이 promise를 반환할 것이기 때문에 <code>.then</code> 을 계속해서 체이닝할 수 있다. <code>new Error</code> 를 던져 <code>.catch</code> 메소드에서 걸리기 전까지.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPromise</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(resolve, <span class="hljs-number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">logA</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"A"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">logB</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"B"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">logCAndThrow</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"C"</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">catchError</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Error!"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getPromise()</span><br><span class="line">  .then(logA) <span class="hljs-comment">// A</span></span><br><span class="line">  .then(logB) <span class="hljs-comment">// B</span></span><br><span class="line">  .then(logCAndThrow) <span class="hljs-comment">// C</span></span><br><span class="line">  .catch(catchError) <span class="hljs-comment">// Error!</span></span><br></pre></td></tr></table></figure>

<p>굳! 왜 이게 중요할까? 콜백 섹션에서 콜백을 점점 사용하지 않게 된 이유가 우리가 자연스러운, 순차적으로 생각하는 방식을 방해하기 때문이라고 말했었다. promise를 체이닝하면, 자연스러운 생각의 방식을 벗어나지 않도록 해준다. 체이닝된 promise는 순차적이기 때문이다. <code>getPromise runs then logA runs then logB runs then...</code></p>
<p>한 가지를 예를 더 보면, <code>fetch</code> api를 사용하는 보통의 예제이다. <code>fetch</code> 는 http 응답을 처리하는 promise를 반환한다. 실제 JSON 값을 얻기 위해 <code>.json</code> 을 호출할 필요가 있다. 체이닝 덕분에 순차적인 방법으로 생각을 할 수 있게 된다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">fetch(<span class="hljs-string">"/api/user.json"</span>)</span><br><span class="line">  .then(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response.json())</span><br><span class="line">  .then(<span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="hljs-comment">// user is now ready to go.</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>이제 우리는 체이닝에 대해 안다. <code>getUser</code>/<code>getWeather</code> 을 좀 더 사용하기 쉽게 리팩토링해보자.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUser</span>(<span class="hljs-params">id</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    $.getJSON(&#123;</span><br><span class="line">      url: <span class="hljs-string">`https://api.github.com/users/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,</span><br><span class="line">      success: resolve,</span><br><span class="line">      error: reject,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeather</span>(<span class="hljs-params">user</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    $.getJSON(&#123;</span><br><span class="line">      url: getLocationURL(user.location.split(<span class="hljs-string">","</span>)),</span><br><span class="line">      success: resolve,</span><br><span class="line">      error: reject,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">    .then(getWeather)</span><br><span class="line">    .then(<span class="hljs-function">(<span class="hljs-params">weather</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="hljs-comment">// 여기서!!! user, weather 데이터가 둘 다 필요하다.</span></span><br><span class="line">      <span class="hljs-comment">// 현재는 weather 데이터만 있다. 어떻게 해야할까??</span></span><br><span class="line">      updateUI() <span class="hljs-comment">// ????</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(showError)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>훨씬 보기 좋다. 그러나 이슈가 있다. 알아챌 수 있나? 두 번째 <code>.then</code> 에서 <code>updateUI</code> 를 호출하고 싶다. 문제는 <code>updateUI</code> 에 <code>user</code> 와 <code>weather</code> 정보를 둘 다 넘겨야한다. 현재는 <code>weather</code> 에 대한 정보만 넘기고 있다. 어떻게 해서든지 방법을 찾아 <code>getWeather</code> 가 resolved된 <code>user</code> 와 <code>weather</code>을 넘길 수 있도록 해야 한다.</p>
<p>여기 방법이 있다! <code>resolve</code> 는 그냥 함수다. 전달된 인자는 <code>.then</code> 에 전달된 함수로 전달될 수 있다. 이것은 <code>getWeather</code> 내에서 자체적으로 <code>resolve</code> 을 호출하면, <code>weather</code> and <code>user</code> 둘 다 전달할 수 있다는 것을 의미한다. 그리고 두 번째 <code>.then</code> 메소드는 인자로 <code>user</code> and <code>weather</code> 을 받게 된다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWeather</span>(<span class="hljs-params">user</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    $.getJSON(&#123;</span><br><span class="line">      url: getLocationURL(user.location.split(<span class="hljs-string">","</span>)),</span><br><span class="line">      success(weather) &#123;</span><br><span class="line">        resolve(&#123; user, <span class="hljs-attr">weather</span>: weather.query.results &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      error: reject,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">    .then(getWeather)</span><br><span class="line">    .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="hljs-comment">// Now, data is an object with a</span></span><br><span class="line">      <span class="hljs-comment">// "weather" property and a "user" property.</span></span><br><span class="line"></span><br><span class="line">      updateUI(data)</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(showError)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>콜백과 비교해, promise의 장점이 빛을 발하는 부분은 클릭 핸들러다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-comment">// Callbacks 🚫</span></span><br><span class="line">getUser(</span><br><span class="line">  <span class="hljs-string">"tylermcginnis"</span>,</span><br><span class="line">  (user) =&gt; &#123;</span><br><span class="line">    getWeather(</span><br><span class="line">      user,</span><br><span class="line">      (weather) =&gt; &#123;</span><br><span class="line">        updateUI(&#123;</span><br><span class="line">          user,</span><br><span class="line">          weather: weather.query.results,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      showError</span><br><span class="line">    )</span><br><span class="line">  &#125;,</span><br><span class="line">  showError</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// Promises ✅</span></span><br><span class="line">getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">  .then(getWeather)</span><br><span class="line">  .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> updateUI(data))</span><br><span class="line">  .catch(showError)</span><br></pre></td></tr></table></figure>

<p>두 번째 방법이 보다 자연스럽게 느껴진다. 우리가 생각하는 방법대로 순차적이기 때문이다.  <code>getUser then getWeather then update the UI with the data</code> - 유저 데이터를 가져온 후, 날씨 정보를 가져와서 UI를 업데이트 한다.</p>
<hr>
<h3 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async / Await"></a>Async / Await</h3><p>이제 promise를 사용하면 비동기 코드의 가독성이 훨씬 좋아지는 것이 확실하다. 혹시 더 나은 방법이 있나? 너가 TC39 위원회에 있고 자바스크립트에 새로운 기능을 추가하는데 모든 권력이 너에게 있다고 가정해보자. 이 코드를 개선하기 위해 어떤 단계를 취하겠는가?</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">    .then(getWeather)</span><br><span class="line">    .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> updateUI(data))</span><br><span class="line">    .catch(showError)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>우리가 논의했듯이, 코드는 훨씬 더 잘 읽힌다. 우리의 뇌가 동작하는 대로 순차적으로 진행된다. 우리가 겪었던 한가지 이슈는 첫 번째 비동기 요청에서 얻은 데이터를 마지막 <code>.then</code> 까지 전달해야 하는 부분이었다. 이 부분은 큰 문제는 아니지만, <code>users</code> 을 전달하기 위해 <code>getWeather</code> 함수를 수정해야 했다.만약 비동기 코드를 동기 코드를 작성했던 것과 동일하게 작성하면 어떻게 될까? 그렇게 하면 이 문제는 완전히 사라질 것이다. 그리고 여전히 순차적으로 진행된다. 아래에 아이디어가 있다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> user = getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">  <span class="hljs-keyword">const</span> weather = getWeather(user)</span><br><span class="line"></span><br><span class="line">  updateUI(&#123;</span><br><span class="line">    user,</span><br><span class="line">    weather,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>흠, 좋아보인다. 비동기 코드가 완전히 동기 코드처럼 보인다. 머리로 한번 더 생각해야 할 단계가 없다. 우리가 생각하는 방식과 이미 매우 비슷하기 때문이다. 하지만 슬프게도 위 코드는 동작하지 않는다. 이미 알고 있듯이, 위 코드를 실행하면, <code>user</code> 와 <code>weather</code> 둘 다 <code>getUser</code> 와 <code>getWeather</code> 이 반환하는 그냥 promise일 것이다. 우리가 TC39 이라고 치고 우리가 원하는 기능을 추가할 수 있는 힘이 있다고 생각하자. 이 코드는 작동하기 까다로울 것이다. 우리는 어떻게든 비동기 함수 호출과 일반적인 동기 함수 호출의 차이점에 대해서 자바스크립트 엔진에 알려줘야 한다. 엔진이 코드를 이해하기 쉽게 몇 가지 키워드를 추가해 보자.</p>
<p>일단, 메인 함수 자체에 키워드를 추가해 보자. 이것은 이 함수 내에서 비동기 함수가 실행될 것이라는 것을 엔진에게 알려주는 단서가 될 수 있다. <code>async</code> 를 이용해보자.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> user = getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">  <span class="hljs-keyword">const</span> weather = getWeather(user)</span><br><span class="line"></span><br><span class="line">  updateUI(&#123;</span><br><span class="line">    user,</span><br><span class="line">    weather,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>굳! 합리적으로 보인다. 다음으로 또다른 키워드를 추가하자. 엔진에게 어떤 함수를 호출했을 때 비동기로 작동하고 promise를 반환할 것이라는 걸 알려주도록. <code>await</code> 를 사용하자. <strong><em>“엔진아, 이 함수는 비동기고 promise를 반환할거야. 일반적으로 하는 것처럼 계속 진행하지 말고 promise의 최종 값이 전달될 때까지 기다려줘.”</em></strong></p>
<p><code>async</code> 와 <code>await</code> 키워드를 통해 코드를 새로 작성하면 아래와 같다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">  <span class="hljs-keyword">const</span> weather = <span class="hljs-keyword">await</span> getWeather(user.location)</span><br><span class="line"></span><br><span class="line">  updateUI(&#123;</span><br><span class="line">    user,</span><br><span class="line">    weather,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>아주 좋다! 우리는 비동기적인 코드를 동기적인 코드처럼 보이게 하고 동작하도록 하는 합리적인 방법을 고안했다. 이게 바로 <code>Async/Await</code> 이다.</p>
<hr>
<h5 id="async-functions-return-a-promise"><a href="#async-functions-return-a-promise" class="headerlink" title="async functions return a promise"></a>async functions return a promise</h5><p>지금까지 Async/Await의 이점에 대해 알아봤다. 몇 가지 중요한, 디테일한 부분들을 알아보자. 첫 번째로 함수에 <code>async</code> 를 추가하면, 그 함수는 암시적으로 promise를 반환한다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPromise</span>(<span class="hljs-params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">const</span> promise = getPromise()</span><br></pre></td></tr></table></figure>

<p><code>getPromise</code> 은 비어있더라도 <code>async</code> 함수이기 때문에 promise를 반환한다. <code>async</code> 함수가 어떤 값을 반환하면, 그 값은 promise로 랩핑된다. 그 값에 접근하려면 <code>.then</code> 을 사용해야 한다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="hljs-keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>).then(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="hljs-built_in">console</span>.log(result) <span class="hljs-comment">// 5</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="await-without-async-is-bad"><a href="#await-without-async-is-bad" class="headerlink" title="await without async is bad"></a>await without async is bad</h5><p><code>async</code> 키워드가 없는 함수 안에서 <code>await</code> 를 사용하려고 한다면 에러가 날 것이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> getUser(<span class="hljs-string">'tylermcginnis'</span>)</span><br><span class="line">	<span class="hljs-comment">// SyntaxError: await is a reserved word</span></span><br><span class="line">  <span class="hljs-keyword">const</span> weather = <span class="hljs-keyword">await</span> getWeather(user.location)</span><br><span class="line">	<span class="hljs-comment">// SyntaxError: await is a reserved word</span></span><br><span class="line"></span><br><span class="line">  updateUI(&#123;</span><br><span class="line">    user,</span><br><span class="line">    weather,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>함수에 <code>async</code> 키워드를 붙이는 것은 두 가지 작업이 수행되는 것을 의미한다. promise를 반환하게 되는 것(혹은 실제 값을 promise로 랩핑하는 것)이고, 내부에서 <code>await</code> 를 사용할 수 있게 하는 것이다.</p>
<hr>
<h5 id="Async-Await-Error-Handling"><a href="#Async-Await-Error-Handling" class="headerlink" title="Async/Await Error Handling"></a>Async/Await Error Handling</h5><p>원래 코드에서는 <code>.catch</code> 를 이용해서 에러를 캐치할 수 있었다. Async/Await로 바꾸고 나서는 이 코드가 사라졌다. Async/Await 에서 에러를 잡는 가장 보편적인 방법은 <code>try/catch</code> 문으로 감싸는 방법이다.</p>
<figure class="highlight javascript hljs"><table><tr><td class="code"><pre><span class="line">$(<span class="hljs-string">"#btn"</span>).on(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> getUser(<span class="hljs-string">"tylermcginnis"</span>)</span><br><span class="line">    <span class="hljs-keyword">const</span> weather = <span class="hljs-keyword">await</span> getWeather(user.location)</span><br><span class="line"></span><br><span class="line">    updateUI(&#123;</span><br><span class="line">      user,</span><br><span class="line">      weather,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="hljs-keyword">catch</span> (e) &#123;</span><br><span class="line">    showError(e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/JavaScript/">JavaScript</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2020/03/06/Programming/Algorithm/minmaxdivision/">
                <span class="level-item">코딜리티 MinMaxDivision 문제풀이</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comments</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'https://minami-choi.github.io/2020/04/11/Programming/JavaScript/async-code/';
        this.page.identifier = '2020/04/11/Programming/JavaScript/async-code/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'https-minami-choi-github-io-1' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/img/minasprofile.jpg" alt="Mina Choi">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Mina Choi
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Connecting the dots
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Seoul, South Korea</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            102
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            11
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            96
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://www.linkedin.com/in/mina-choi-985a8015a/" target="_blank" rel="external nofollow noopener noreferrer">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/minami-choi" rel="external nofollow noopener noreferrer">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://www.facebook.com/minaminachoi" rel="external nofollow noopener noreferrer">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Linkedin" href="https://www.linkedin.com/in/mina-choi-985a8015a/" rel="external nofollow noopener noreferrer">
                
                <i class="fab fa-linkedin"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Essay/">
            <span class="level-start">
                <span class="level-item">Essay</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/">
            <span class="level-start">
                <span class="level-item">Programming</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">99</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Programming/Algorithm/">
            <span class="level-start">
                <span class="level-item">Algorithm</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">52</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/Android/">
            <span class="level-start">
                <span class="level-item">Android</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/Angular/">
            <span class="level-start">
                <span class="level-item">Angular</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">16</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/Basic/">
            <span class="level-start">
                <span class="level-item">Basic</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/ElasticSearch/">
            <span class="level-start">
                <span class="level-item">ElasticSearch</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/JavaScript/">
            <span class="level-start">
                <span class="level-item">JavaScript</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">13</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/React/">
            <span class="level-start">
                <span class="level-item">React</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/Server/">
            <span class="level-start">
                <span class="level-item">Server</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Programming/etc/">
            <span class="level-start">
                <span class="level-item">etc</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    Catalogue
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#Callbacks">
        <span class="has-mr-6">1</span>
        <span>Callbacks</span>
        </a></li><li>
        <a class="is-flex" href="#Promises">
        <span class="has-mr-6">2</span>
        <span>Promises</span>
        </a><ul class="menu-list"><ul class="menu-list"><li>
        <a class="is-flex" href="#1-How-do-you-create-a-Promise">
        <span class="has-mr-6">2.1.1</span>
        <span>1) How do you create a Promise?</span>
        </a></li><li>
        <a class="is-flex" href="#2-How-do-you-change-the-status-of-a-promise">
        <span class="has-mr-6">2.1.2</span>
        <span>2) How do you change the status of a promise?</span>
        </a></li><li>
        <a class="is-flex" href="#3-How-do-you-listen-for-when-the-status-of-a-promise-changes">
        <span class="has-mr-6">2.1.3</span>
        <span>3) How do you listen for when the status of a promise changes?</span>
        </a></li></ul><li>
        <a class="is-flex" href="#Promise-Chaining">
        <span class="has-mr-6">2.2</span>
        <span>Promise Chaining</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#Async-Await">
        <span class="has-mr-6">3</span>
        <span>Async / Await</span>
        </a><ul class="menu-list"><ul class="menu-list"><li>
        <a class="is-flex" href="#async-functions-return-a-promise">
        <span class="has-mr-6">3.1.1</span>
        <span>async functions return a promise</span>
        </a></li><li>
        <a class="is-flex" href="#await-without-async-is-bad">
        <span class="has-mr-6">3.1.2</span>
        <span>await without async is bad</span>
        </a></li><li>
        <a class="is-flex" href="#Async-Await-Error-Handling">
        <span class="has-mr-6">3.1.3</span>
        <span>Async/Await Error Handling</span>
        </a></li></ul></ul></li></ul>
            </div>
        </div>
    </div>

        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/04/11/Programming/JavaScript/async-code/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1584984787900-9417ec4c3369?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-11T08:40:43.000Z">2020-04-11</time></div>
                    <a href="/2020/04/11/Programming/JavaScript/async-code/" class="title has-link-black-ter is-size-6 has-text-weight-normal">자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/06/Programming/Algorithm/minmaxdivision/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1458966480358-a0ac42de0a7a?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="코딜리티 MinMaxDivision 문제풀이">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-06T08:30:39.000Z">2020-03-06</time></div>
                    <a href="/2020/03/06/Programming/Algorithm/minmaxdivision/" class="title has-link-black-ter is-size-6 has-text-weight-normal">코딜리티 MinMaxDivision 문제풀이</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/Algorithm/">Algorithm</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/29/Essay/geultto-start/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://static01.nyt.com/images/2020/01/28/multimedia/28xp-memekid3/28cp-memekid3-superJumbo.jpg?quality=90&amp;auto=webp" alt="2020년 새로운 도전, 글또 4기">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-29T05:04:31.000Z">2020-02-29</time></div>
                    <a href="/2020/02/29/Essay/geultto-start/" class="title has-link-black-ter is-size-6 has-text-weight-normal">2020년 새로운 도전, 글또 4기</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Essay/">Essay</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/28/Programming/JavaScript/execute-context/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1582679090917-39cb066434c0?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" alt="자바스크립트에서 실행 컨텍스트란?">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-28T02:57:48.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/Programming/JavaScript/execute-context/" class="title has-link-black-ter is-size-6 has-text-weight-normal">자바스크립트에서 실행 컨텍스트란?</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/27/Programming/JavaScript/this/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1536585319842-8e16d53d64c1?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="자바스크립트 this란 대체 무엇인가?">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-27T11:36:27.000Z">2020-02-27</time></div>
                    <a href="/2020/02/27/Programming/JavaScript/this/" class="title has-link-black-ter is-size-6 has-text-weight-normal">자바스크립트 this란 대체 무엇인가?</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">April 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">June 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">April 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    Catalogue
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#Callbacks">
        <span class="has-mr-6">1</span>
        <span>Callbacks</span>
        </a></li><li>
        <a class="is-flex" href="#Promises">
        <span class="has-mr-6">2</span>
        <span>Promises</span>
        </a><ul class="menu-list"><ul class="menu-list"><li>
        <a class="is-flex" href="#1-How-do-you-create-a-Promise">
        <span class="has-mr-6">2.1.1</span>
        <span>1) How do you create a Promise?</span>
        </a></li><li>
        <a class="is-flex" href="#2-How-do-you-change-the-status-of-a-promise">
        <span class="has-mr-6">2.1.2</span>
        <span>2) How do you change the status of a promise?</span>
        </a></li><li>
        <a class="is-flex" href="#3-How-do-you-listen-for-when-the-status-of-a-promise-changes">
        <span class="has-mr-6">2.1.3</span>
        <span>3) How do you listen for when the status of a promise changes?</span>
        </a></li></ul><li>
        <a class="is-flex" href="#Promise-Chaining">
        <span class="has-mr-6">2.2</span>
        <span>Promise Chaining</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#Async-Await">
        <span class="has-mr-6">3</span>
        <span>Async / Await</span>
        </a><ul class="menu-list"><ul class="menu-list"><li>
        <a class="is-flex" href="#async-functions-return-a-promise">
        <span class="has-mr-6">3.1.1</span>
        <span>async functions return a promise</span>
        </a></li><li>
        <a class="is-flex" href="#await-without-async-is-bad">
        <span class="has-mr-6">3.1.2</span>
        <span>await without async is bad</span>
        </a></li><li>
        <a class="is-flex" href="#Async-Await-Error-Handling">
        <span class="has-mr-6">3.1.3</span>
        <span>Async/Await Error Handling</span>
        </a></li></ul></ul></li></ul>
            </div>
        </div>
    </div>

    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/04/11/Programming/JavaScript/async-code/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1584984787900-9417ec4c3369?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-11T08:40:43.000Z">2020-04-11</time></div>
                    <a href="/2020/04/11/Programming/JavaScript/async-code/" class="title has-link-black-ter is-size-6 has-text-weight-normal">자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/06/Programming/Algorithm/minmaxdivision/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1458966480358-a0ac42de0a7a?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="코딜리티 MinMaxDivision 문제풀이">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-06T08:30:39.000Z">2020-03-06</time></div>
                    <a href="/2020/03/06/Programming/Algorithm/minmaxdivision/" class="title has-link-black-ter is-size-6 has-text-weight-normal">코딜리티 MinMaxDivision 문제풀이</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/Algorithm/">Algorithm</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/29/Essay/geultto-start/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://static01.nyt.com/images/2020/01/28/multimedia/28xp-memekid3/28cp-memekid3-superJumbo.jpg?quality=90&amp;auto=webp" alt="2020년 새로운 도전, 글또 4기">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-29T05:04:31.000Z">2020-02-29</time></div>
                    <a href="/2020/02/29/Essay/geultto-start/" class="title has-link-black-ter is-size-6 has-text-weight-normal">2020년 새로운 도전, 글또 4기</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Essay/">Essay</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/28/Programming/JavaScript/execute-context/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1582679090917-39cb066434c0?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" alt="자바스크립트에서 실행 컨텍스트란?">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-28T02:57:48.000Z">2020-02-28</time></div>
                    <a href="/2020/02/28/Programming/JavaScript/execute-context/" class="title has-link-black-ter is-size-6 has-text-weight-normal">자바스크립트에서 실행 컨텍스트란?</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/02/27/Programming/JavaScript/this/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://images.unsplash.com/photo-1536585319842-8e16d53d64c1?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=60" alt="자바스크립트 this란 대체 무엇인가?">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-27T11:36:27.000Z">2020-02-27</time></div>
                    <a href="/2020/02/27/Programming/JavaScript/this/" class="title has-link-black-ter is-size-6 has-text-weight-normal">자바스크립트 this란 대체 무엇인가?</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/Programming/JavaScript/">JavaScript</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">April 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">December 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">November 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">June 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">17</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">April 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo2.png" alt="자바스크립트에서 비동기 코드를 처리 하는 방식에 대하여 - callback, promise, async/await" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Mina Choi&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                Visited by <span id="busuanzi_value_site_uv">0</span> users
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/minami-choi" rel="external nofollow noopener noreferrer">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: false,
            fold: ''
        }
    }
};
</script>




    
    
<script src="/js/animation.js"></script>

    
    
<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>

    
    
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" rel="external nofollow noopener noreferrer" target="_blank">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>

    
    <script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>
    
    
<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>

    
    
    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>